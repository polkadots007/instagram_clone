{"version":3,"file":"static/js/577.8869f9b3.chunk.js","mappings":"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","sources":["hooks/use_user.js","components/profile/header.js","components/profile/photos.js","components/profile/index.js","pages/profile.js","../node_modules/react-loading-skeleton/dist/index.mjs"],"sourcesContent":["import { useState, useEffect, useContext, useCallback } from 'react';\r\nimport UserContext from '../context/user';\r\nimport { getUserByUserId } from '../services/firebase';\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n  const getUserObjByUserId = useCallback(async () => {\r\n    const [response] = await getUserByUserId(user.uid);\r\n    setActiveUser(response);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    //  Commented out to optimize using useCallback\r\n    // async function getUserObjByUserId() {\r\n    //   // Fn to call firebase service to get user data based on id\r\n    //   const [response] = await getUserByUserId(user.uid);\r\n    //   setActiveUser(response);\r\n    // }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser };\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\nimport useUser from '../../hooks/use_user';\r\nimport { toggleFollow, isUserFollowingProfile } from '../../services/firebase';\r\n\r\nexport default function Header({\r\n  photosCount,\r\n  profile: {\r\n    docId: profileDocId,\r\n    userId: profileUserId,\r\n    username: profileUserName,\r\n    fullName,\r\n    followers = [],\r\n    following = []\r\n  },\r\n  followerCount,\r\n  followingCount,\r\n  setFollowerCount\r\n}) {\r\n  const { user } = useUser();\r\n  const loggedInUsername = user.username;\r\n  const [isFollowingProfile, setIsFollowingProfile] = useState(false);\r\n  const activeBtnFollow = profileUserName && profileUserName !== loggedInUsername;\r\n\r\n  const handleToggleFollow = async () => {\r\n    setIsFollowingProfile((isFollowingProfile) => !isFollowingProfile);\r\n    setFollowerCount({\r\n      followerCount: isFollowingProfile ? followerCount - 1 : followerCount + 1\r\n    });\r\n    await toggleFollow(isFollowingProfile, user.docId, profileDocId, profileUserId, user.userId);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const isLoggedInUserFollowingProfile = async () => {\r\n      const isFollowing = await isUserFollowingProfile(user.username, profileUserId);\r\n      setIsFollowingProfile(isFollowing);\r\n    };\r\n    if (user.username && profileUserId) isLoggedInUserFollowingProfile();\r\n  }, [user.username, profileUserId]);\r\n\r\n  return !profileUserName ? (\r\n    <Skeleton count={1} width=\"100%\" height={200} />\r\n  ) : (\r\n    <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto\">\r\n      <div className=\"container flex justify-center\">\r\n        <img\r\n          className=\"rounded-full h-40 w-40  flex\"\r\n          alt={`${profileUserName} profile`}\r\n          src={`/images/avatars/${profileUserName}.jpg`}\r\n        />\r\n      </div>\r\n      <div className=\"flex items-center justify-center flex-col col-span-2\">\r\n        <div className=\"container flex items-center\">\r\n          <p className=\"text-2xl mr-4\">{profileUserName}</p>\r\n          {activeBtnFollow && (\r\n            <button\r\n              className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\r\n              type=\"button\"\r\n              onClick={handleToggleFollow}\r\n              onKeyDown={(event) => {\r\n                if (event.key === 'Enter') handleToggleFollow();\r\n              }}\r\n            >\r\n              {isFollowingProfile ? 'Unfollow' : 'Follow'}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"container flex mt-4\">\r\n          {followers === undefined || following === undefined ? (\r\n            <Skeleton count={1} width={677} height={24} />\r\n          ) : (\r\n            <>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{photosCount}</span> Photos\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{followerCount}</span>\r\n                {` `}\r\n                {followerCount === 1 ? `Follower` : `Followers`}\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{followingCount}</span>\r\n                {` `}\r\n                Following\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"container mt-4\">\r\n          <p className=\"font-medium\">\r\n            {!fullName ? <Skeleton count={1} height={24} width={677} /> : fullName}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  photosCount: PropTypes.number.isRequired,\r\n  profile: PropTypes.shape({\r\n    docId: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    username: PropTypes.string,\r\n    fullName: PropTypes.string,\r\n    followers: PropTypes.array,\r\n    following: PropTypes.array\r\n  }).isRequired,\r\n  followerCount: PropTypes.number.isRequired,\r\n  followingCount: PropTypes.number.isRequired,\r\n  setFollowerCount: PropTypes.func.isRequired\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../../context/user';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\n\r\nfunction PhotoHeart({ docId, likedPhoto, totalLikes }) {\r\n  const { user } = useContext(UserContext);\r\n  const userId = user?.uid;\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n  const handleToggleLiked = async () => {\r\n    if (userId) {\r\n      setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n      await firebase\r\n        .firestore()\r\n        .collection('photos')\r\n        .doc(docId)\r\n        .update({\r\n          likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        });\r\n\r\n      setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n    }\r\n  };\r\n  return (\r\n    <p className=\"flex items-center text-white font-bold\">\r\n      <svg\r\n        onClick={() => handleToggleLiked()}\r\n        onKeyDown={(event) => {\r\n          if (event.key === 'Enter') {\r\n            handleToggleLiked();\r\n          }\r\n        }}\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"currentColor\"\r\n        className={`w-8 mr-4 select-none ${\r\n          userId ? 'cursor-pointer' : 'cursor-auto'\r\n        } focus:outline-none ${toggleLiked ? 'fill-red text-red-primary' : 'text-white'}`}\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n      {likes}\r\n    </p>\r\n  );\r\n}\r\nexport default function Photos({ photos, profile }) {\r\n  return (\r\n    <div className=\"h-16 border-t border-gray-primary mt-12 pt-4\">\r\n      <div className=\"grid grid-cols-3 gap-8 mt-4 mb-12 pb-4\">\r\n        {!photos ? (\r\n          <Skeleton count={12} width={320} height={400} />\r\n        ) : photos.length > 0 ? (\r\n          photos.map((photo) => (\r\n            <div key={photo.docId} className=\"relative group\">\r\n              <img src={photo.imageSrc} alt={photo.caption} />\r\n              <div className=\"absolute bottom-0 left-0 bg-gray-200 z-10 w-full justify-evenly items-center h-full bg-black-faded group-hover:flex hidden\">\r\n                <PhotoHeart\r\n                  docId={photo.docId}\r\n                  likedPhoto={photo.userLikedPhoto}\r\n                  totalLikes={photo.likes.length}\r\n                />\r\n                <p className=\"flex items-center text-white font-bold\">\r\n                  <Link to={`/p/${profile.username}/${photo.photoId}`}>\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      viewBox=\"0 0 20 20\"\r\n                      fill=\"currentColor\"\r\n                      className=\"w-8 mr-4\"\r\n                    >\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\"\r\n                        clipRule=\"evenodd\"\r\n                      />\r\n                    </svg>\r\n                  </Link>\r\n                  {photo.comments.length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : null}\r\n      </div>\r\n      {!photos || (photos.length === 0 && <p className=\"text-center text-2xl\">No Posts Yet</p>)}\r\n    </div>\r\n  );\r\n}\r\n\r\nPhotos.propTypes = {\r\n  photos: PropTypes.array.isRequired,\r\n  profile: PropTypes.shape({\r\n    docId: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    username: PropTypes.string,\r\n    fullName: PropTypes.string,\r\n    followers: PropTypes.array,\r\n    following: PropTypes.array\r\n  }).isRequired\r\n};\r\n\r\nPhotoHeart.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.bool.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { useReducer, useEffect, useContext } from 'react';\r\nimport UserContext from '../../context/user';\r\nimport { getUserPhotosByUserId } from '../../services/firebase';\r\nimport Header from './header';\r\nimport Photos from './photos';\r\n\r\nexport default function UserProfile({ user }) {\r\n  const { user: userDetails } = useContext(UserContext);\r\n  const loggedInUserId = userDetails?.uid;\r\n  const reducer = (state, newState) => ({ ...state, ...newState });\r\n  const initialState = {\r\n    profile: {},\r\n    photosCollection: [],\r\n    followerCount: 0,\r\n    followingCount: 0\r\n  };\r\n  const [{ profile, photosCollection, followerCount, followingCount }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n  useEffect(() => {\r\n    async function getProfileInfoAndPhotos() {\r\n      const { userId, followers, following } = user;\r\n      const photos = await getUserPhotosByUserId(userId, loggedInUserId);\r\n\r\n      dispatch({\r\n        profile: user,\r\n        photosCollection: photos,\r\n        followerCount: followers.length,\r\n        followingCount: following.length\r\n      });\r\n    }\r\n    getProfileInfoAndPhotos();\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        photosCount={photosCollection ? photosCollection.length : 0}\r\n        profile={profile}\r\n        followerCount={followerCount}\r\n        followingCount={followingCount}\r\n        setFollowerCount={dispatch}\r\n      />\r\n      <Photos photos={photosCollection} profile={profile} />\r\n    </>\r\n  );\r\n}\r\n\r\nUserProfile.propTypes = {\r\n  user: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    emailAddress: PropTypes.string.isRequired,\r\n    followers: PropTypes.array.isRequired,\r\n    following: PropTypes.array.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n    userId: PropTypes.string.isRequired,\r\n    dateCreated: PropTypes.number.isRequired\r\n  }).isRequired\r\n};\r\n","import { useParams, useNavigate } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport { getUserByUsername } from '../services/firebase';\r\nimport * as ROUTES from '../constants/routes';\r\nimport Header from '../components/header';\r\nimport UserProfile from '../components/profile';\r\n\r\nexport default function Profile() {\r\n  const { username } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    async function checkUserExists() {\r\n      const userDetails = await getUserByUsername(username);\r\n      if (userDetails.length > 0) {\r\n        setUser(userDetails[0]);\r\n      } else {\r\n        navigate(ROUTES.NOT_FOUND);\r\n      }\r\n    }\r\n\r\n    checkUserExists();\r\n  }, [username, navigate]);\r\n\r\n  return user?.username ? (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"mx-auto max-w-screen-lg\">\r\n        <UserProfile user={user} />\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b, _c;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    const countCeil = Math.ceil(count);\n    for (let i = 0; i < countCeil; i++) {\n        let thisStyle = style;\n        if (countCeil > count && i === countCeil - 1) {\n            // count is not an integer and we've reached the last iteration of\n            // the loop, so add a \"fractional\" skeleton.\n            //\n            // For example, if count is 3.5, we've already added 3 full\n            // skeletons, so now we add one more skeleton that is 0.5 times the\n            // original width.\n            const width = (_b = thisStyle.width) !== null && _b !== void 0 ? _b : '100%'; // 100% is the default since that's what's in the CSS\n            const fractionalPart = count % 1;\n            const fractionalWidth = typeof width === 'number'\n                ? width * fractionalPart\n                : `calc(${width} * ${fractionalPart})`;\n            thisStyle = { ...thisStyle, width: fractionalWidth };\n        }\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: thisStyle, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            // Without the <br />, the skeleton lines will all run together if\n            // `width` is specified\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_c = styleOptions.enableAnimation) !== null && _c !== void 0 ? _c : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n"],"names":["useUser","useState","activeUser","setActiveUser","user","useContext","UserContext","getUserObjByUserId","useCallback","getUserByUserId","uid","response","useEffect","Header","photosCount","profile","profileDocId","docId","profileUserId","userId","profileUserName","username","fullName","followers","following","followerCount","followingCount","setFollowerCount","loggedInUsername","isFollowingProfile","setIsFollowingProfile","activeBtnFollow","handleToggleFollow","toggleFollow","isLoggedInUserFollowingProfile","isUserFollowingProfile","isFollowing","className","alt","src","type","onClick","onKeyDown","event","key","undefined","count","width","height","PhotoHeart","likedPhoto","totalLikes","toggleLiked","setToggleLiked","likes","setLikes","FirebaseContext","firebase","FieldValue","handleToggleLiked","firestore","collection","doc","update","arrayRemove","arrayUnion","xmlns","viewBox","fill","fillRule","d","clipRule","Photos","photos","length","map","photo","imageSrc","caption","userLikedPhoto","to","photoId","comments","UserProfile","userDetails","loggedInUserId","useReducer","state","newState","photosCollection","dispatch","getUserPhotosByUserId","getProfileInfoAndPhotos","Profile","useParams","setUser","navigate","useNavigate","getUserByUsername","ROUTES","checkUserExists","SkeletonThemeContext","React","defaultEnableAnimation","Skeleton","_a","_b","_c","Wrapper","wrapper","customClassName","containerClassName","containerTestId","circle","styleProp","style","originalPropsStyleOptions","contextStyleOptions","propsStyleOptions","Object","entries","styleOptions","baseColor","highlightColor","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","countCeil","Math","ceil","i","thisStyle","fractionalPart","fractionalWidth","skeletonSpan","push","el"],"sourceRoot":""}