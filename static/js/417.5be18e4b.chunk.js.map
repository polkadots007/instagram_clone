{"version":3,"file":"static/js/417.5be18e4b.chunk.js","mappings":"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","sources":["components/post/header.js","components/post/image.js","components/post/actions.js","components/post/footer.js","components/post/add_comment.js","components/post/comments.js","components/post/index.js","components/selected_post.js","pages/photo_info.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header({ username }) {\r\n  return (\r\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\r\n      <div className=\"flex items-center\">\r\n        <Link to={`/p/${username}`} className=\"flex items-center\">\r\n          <img\r\n            className=\"rounded-full h-8 w-8 flex mr-3\"\r\n            src={`/images/avatars/${username}.jpg`}\r\n            alt={`${username} profile`}\r\n          />\r\n          <p className=\"font-bold\">{username}</p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n\r\nImage.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  caption: PropTypes.string.isRequired\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function Actions({ docId, totalLikes, likedPhoto, handleFocus }) {\r\n  const { user } = useContext(UserContext);\r\n  const userId = user?.uid;\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n  const handleToggleLiked = async () => {\r\n    if (userId) {\r\n      setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n      await firebase\r\n        .firestore()\r\n        .collection('photos')\r\n        .doc(docId)\r\n        .update({\r\n          likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        });\r\n\r\n      setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            onClick={handleToggleLiked}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleToggleLiked();\r\n              }\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n            className={`w-8 mr-4 select-none ${\r\n              userId ? 'cursor-pointer' : 'cursor-auto'\r\n            }     focus:outline-none ${\r\n              toggleLiked ? 'fill-red text-red-primary' : 'text-black-light'\r\n            }`}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            onClick={handleFocus}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            className={`w-8 text-black-light select-none ${\r\n              userId ? 'cursor-pointer' : 'cursor-auto'\r\n            } focus:outline-none`}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-bold\">{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActions.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.bool.isRequired,\r\n  handleFocus: PropTypes.func.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Footer({ caption, username }) {\r\n  return (\r\n    <div className=\"p-4 pt-2 pb-0\">\r\n      <span className=\"mr-1 pr-2 font-bold\">{username}</span>\r\n      <span>{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  caption: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function AddComment({ docId, comments, setComments, commentInput }) {\r\n  const [comment, setComment] = useState('');\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n  const {\r\n    user: { displayName }\r\n  } = useContext(UserContext);\r\n\r\n  const handleSubmitComment = (event) => {\r\n    event.preventDefault();\r\n\r\n    setComments([{ displayName, comment }, ...comments]);\r\n    setComment('');\r\n\r\n    return firebase\r\n      .firestore()\r\n      .collection('photos')\r\n      .doc(docId)\r\n      .update({\r\n        comments: FieldValue.arrayUnion({ displayName, comment })\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center max-w-full\">\r\n      <img\r\n        className=\"flex-none rounded-full h-8 w-8 mx-3\"\r\n        src={`/images/avatars/${displayName}.jpg`}\r\n        alt={`${displayName} profile`}\r\n      />\r\n      <div className=\"grow border-l border-t border-gray-primary rounded-l-md\">\r\n        <form\r\n          className=\"flex justify-between pl-0 pr-5\"\r\n          method=\"POST\"\r\n          onSubmit={(event) =>\r\n            comment.length >= 1 ? handleSubmitComment(event) : event.preventDefault()\r\n          }\r\n        >\r\n          <input\r\n            aria-label=\"Add a comment\"\r\n            autoComplete=\"off\"\r\n            className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 rounded-md\"\r\n            type=\"text\"\r\n            name=\"add-comment\"\r\n            placeholder=\"Add a comment...\"\r\n            value={comment}\r\n            onChange={({ target }) => setComment(target.value)}\r\n            ref={commentInput}\r\n          />\r\n          <button\r\n            className={`text-sm font-bold text-blue-medium ${!comment && 'opacity-25'}`}\r\n            type=\"button\"\r\n            disabled={comment.length < 1}\r\n            onClick={handleSubmitComment}\r\n          >\r\n            Post\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nAddComment.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  setComments: PropTypes.func.isRequired,\r\n  commentInput: PropTypes.object\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../../context/user';\r\nimport AddComment from './add_comment';\r\n\r\nexport default function Comments({\r\n  docId,\r\n  comments: allComments,\r\n  posted,\r\n  commentInput,\r\n  expandAll\r\n}) {\r\n  const { user } = useContext(UserContext);\r\n  const loggedInUserId = user?.uid;\r\n  const [comments, setComments] = useState(allComments);\r\n  const [noOfComments, setNoOfComments] = useState(expandAll ? comments.length : 3);\r\n\r\n  function increaseCommentsByView() {\r\n    setNoOfComments((curComments) => curComments + 3);\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1 pb-4\">\r\n        {comments.length >= 3 && noOfComments < comments.length && !expandAll && (\r\n          <button\r\n            className=\"text-sm text-gray-base mb-1 cursor-pointer\"\r\n            type=\"button\"\r\n            onClick={increaseCommentsByView}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                increaseCommentsByView();\r\n              }\r\n            }}\r\n          >\r\n            View more comments\r\n          </button>\r\n        )}\r\n        {comments\r\n          .slice(0, noOfComments)\r\n          .reverse()\r\n          .map((item) => (\r\n            <p key={`${item.comment}-${item.displayName}`} className=\"mb-1\">\r\n              <Link to={`/p/${item.displayName}`}>\r\n                <span className=\"mr-1 font-bold\">{item.displayName}</span>\r\n              </Link>\r\n              <span>{item.comment}</span>\r\n            </p>\r\n          ))}\r\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\r\n          Posted {formatDistance(posted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      {loggedInUserId && (\r\n        <AddComment\r\n          docId={docId}\r\n          comments={comments}\r\n          setComments={setComments}\r\n          commentInput={commentInput}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nComments.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  posted: PropTypes.number.isRequired,\r\n  commentInput: PropTypes.object.isRequired,\r\n  expandAll: PropTypes.bool.isRequired\r\n};\r\n","import { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from './header';\r\nimport Image from './image';\r\nimport Actions from './actions';\r\nimport Footer from './footer';\r\nimport Comments from './comments';\r\n\r\nexport default function Post({ content, expandAllComments }) {\r\n  const commentInput = useRef(null);\r\n\r\n  const handleFocus = () => commentInput.current.focus();\r\n\r\n  return (\r\n    <div className=\"rounded col-span-4 border bg-white border-gray-primary mb-12\">\r\n      <Header username={content.username} />\r\n      <Image src={content.imageSrc} caption={content.caption} />\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer caption={content.caption} username={content.username} />\r\n      <Comments\r\n        docId={content.docId}\r\n        comments={content.comments.reverse()}\r\n        posted={content.dateCreated}\r\n        commentInput={commentInput}\r\n        expandAll={expandAllComments}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  content: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    imageSrc: PropTypes.string.isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    docId: PropTypes.string.isRequired,\r\n    userLikedPhoto: PropTypes.bool.isRequired,\r\n    likes: PropTypes.array.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    dateCreated: PropTypes.number.isRequired\r\n  }),\r\n  expandAllComments: PropTypes.bool\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\nimport PropTypes from 'prop-types';\r\nimport Post from './post';\r\n\r\nexport default function SelectedPost({ photo }) {\r\n  return (\r\n    <div className=\"container col-span-2 ml-2\">\r\n      {!photo ? (\r\n        <Skeleton count={4} width={640} height={500} className=\"block mb-5\" />\r\n      ) : (\r\n        <div className=\"mx-12\">\r\n          <Post content={photo} expandAllComments />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nSelectedPost.propTypes = {\r\n  photo: PropTypes.object.isRequired\r\n};\r\n","import { useParams, useNavigate } from 'react-router-dom';\r\nimport { useState, useContext, useEffect } from 'react';\r\nimport { getPhotoByPhotoId } from '../services/firebase';\r\nimport * as ROUTES from '../constants/routes';\r\nimport Header from '../components/header';\r\nimport UserContext from '../context/user';\r\nimport SelectedPost from '../components/selected_post';\r\n\r\nexport default function PhotoDetails() {\r\n  const { username, id: photoId } = useParams();\r\n  const [photo, setPhoto] = useState(null);\r\n  const navigate = useNavigate();\r\n  const { user } = useContext(UserContext);\r\n  useEffect(() => {\r\n    async function checkPhotoExists() {\r\n      const photoDetails = await getPhotoByPhotoId(photoId, user?.uid);\r\n      if (photoDetails.length > 0) {\r\n        setPhoto(photoDetails[0]);\r\n      } else {\r\n        navigate(ROUTES.NOT_FOUND);\r\n      }\r\n    }\r\n\r\n    checkPhotoExists();\r\n  }, [photo, navigate]);\r\n\r\n  return photo?.photoId ? (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"mx-auto max-w-screen-lg\">\r\n        <SelectedPost photo={photo} />\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n"],"names":["Header","username","className","to","src","alt","Image","caption","Actions","docId","totalLikes","likedPhoto","handleFocus","user","useContext","UserContext","userId","uid","useState","toggleLiked","setToggleLiked","likes","setLikes","FirebaseContext","firebase","FieldValue","handleToggleLiked","firestore","collection","doc","update","arrayRemove","arrayUnion","onClick","onKeyDown","event","key","xmlns","fill","viewBox","stroke","tabIndex","strokeLinecap","strokeLinejoin","strokeWidth","d","Footer","AddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","preventDefault","method","onSubmit","length","autoComplete","type","name","placeholder","value","onChange","target","ref","disabled","Comments","allComments","posted","expandAll","loggedInUserId","noOfComments","setNoOfComments","increaseCommentsByView","curComments","slice","reverse","map","item","formatDistance","Date","Post","content","expandAllComments","useRef","imageSrc","userLikedPhoto","current","focus","dateCreated","SelectedPost","photo","count","width","height","PhotoDetails","useParams","photoId","id","setPhoto","navigate","useNavigate","useEffect","getPhotoByPhotoId","photoDetails","ROUTES","checkPhotoExists"],"sourceRoot":""}