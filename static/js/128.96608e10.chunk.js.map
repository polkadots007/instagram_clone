{"version":3,"file":"static/js/128.96608e10.chunk.js","mappings":"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","sources":["components/post/header.js","components/post/image.js","components/post/actions.js","components/post/footer.js","components/post/add_comment.js","components/post/comments.js","components/post/index.js","hooks/use_user.js","components/timeline.js","hooks/use_photos.js","components/sidebar/user.js","components/sidebar/suggested_profile.js","components/sidebar/suggestions.js","components/sidebar/index.js","pages/dashboard.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header({ username }) {\r\n  return (\r\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\r\n      <div className=\"flex items-center\">\r\n        <Link to={`/p/${username}`} className=\"flex items-center\">\r\n          <img\r\n            className=\"rounded-full h-8 w-8 flex mr-3\"\r\n            src={`/images/avatars/${username}.jpg`}\r\n            alt={`${username} profile`}\r\n          />\r\n          <p className=\"font-bold\">{username}</p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n\r\nImage.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  caption: PropTypes.string.isRequired\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function Actions({ docId, totalLikes, likedPhoto, handleFocus }) {\r\n  const { user } = useContext(UserContext);\r\n  const userId = user?.uid;\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n  const handleToggleLiked = async () => {\r\n    if (userId) {\r\n      setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n      await firebase\r\n        .firestore()\r\n        .collection('photos')\r\n        .doc(docId)\r\n        .update({\r\n          likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n        });\r\n\r\n      setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            onClick={handleToggleLiked}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleToggleLiked();\r\n              }\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n            className={`w-8 mr-4 select-none ${\r\n              userId ? 'cursor-pointer' : 'cursor-auto'\r\n            }     focus:outline-none ${\r\n              toggleLiked ? 'fill-red text-red-primary' : 'text-black-light'\r\n            }`}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            onClick={handleFocus}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            className={`w-8 text-black-light select-none ${\r\n              userId ? 'cursor-pointer' : 'cursor-auto'\r\n            } focus:outline-none`}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-bold\">{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActions.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.bool.isRequired,\r\n  handleFocus: PropTypes.func.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Footer({ caption, username }) {\r\n  return (\r\n    <div className=\"p-4 pt-2 pb-0\">\r\n      <span className=\"mr-1 pr-2 font-bold\">{username}</span>\r\n      <span>{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  caption: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function AddComment({ docId, comments, setComments, commentInput }) {\r\n  const [comment, setComment] = useState('');\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n  const {\r\n    user: { displayName }\r\n  } = useContext(UserContext);\r\n\r\n  const handleSubmitComment = (event) => {\r\n    event.preventDefault();\r\n\r\n    setComments([{ displayName, comment }, ...comments]);\r\n    setComment('');\r\n\r\n    return firebase\r\n      .firestore()\r\n      .collection('photos')\r\n      .doc(docId)\r\n      .update({\r\n        comments: FieldValue.arrayUnion({ displayName, comment })\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center max-w-full\">\r\n      <img\r\n        className=\"flex-none rounded-full h-8 w-8 mx-3\"\r\n        src={`/images/avatars/${displayName}.jpg`}\r\n        alt={`${displayName} profile`}\r\n      />\r\n      <div className=\"grow border-l border-t border-gray-primary rounded-l-md\">\r\n        <form\r\n          className=\"flex justify-between pl-0 pr-5\"\r\n          method=\"POST\"\r\n          onSubmit={(event) =>\r\n            comment.length >= 1 ? handleSubmitComment(event) : event.preventDefault()\r\n          }\r\n        >\r\n          <input\r\n            aria-label=\"Add a comment\"\r\n            autoComplete=\"off\"\r\n            className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 rounded-md\"\r\n            type=\"text\"\r\n            name=\"add-comment\"\r\n            placeholder=\"Add a comment...\"\r\n            value={comment}\r\n            onChange={({ target }) => setComment(target.value)}\r\n            ref={commentInput}\r\n          />\r\n          <button\r\n            className={`text-sm font-bold text-blue-medium ${!comment && 'opacity-25'}`}\r\n            type=\"button\"\r\n            disabled={comment.length < 1}\r\n            onClick={handleSubmitComment}\r\n          >\r\n            Post\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nAddComment.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  setComments: PropTypes.func.isRequired,\r\n  commentInput: PropTypes.object\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../../context/user';\r\nimport AddComment from './add_comment';\r\n\r\nexport default function Comments({\r\n  docId,\r\n  comments: allComments,\r\n  posted,\r\n  commentInput,\r\n  expandAll\r\n}) {\r\n  const { user } = useContext(UserContext);\r\n  const loggedInUserId = user?.uid;\r\n  const [comments, setComments] = useState(allComments);\r\n  const [noOfComments, setNoOfComments] = useState(expandAll ? comments.length : 3);\r\n\r\n  function increaseCommentsByView() {\r\n    setNoOfComments((curComments) => curComments + 3);\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1 pb-4\">\r\n        {comments.length >= 3 && noOfComments < comments.length && !expandAll && (\r\n          <button\r\n            className=\"text-sm text-gray-base mb-1 cursor-pointer\"\r\n            type=\"button\"\r\n            onClick={increaseCommentsByView}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                increaseCommentsByView();\r\n              }\r\n            }}\r\n          >\r\n            View more comments\r\n          </button>\r\n        )}\r\n        {comments\r\n          .slice(0, noOfComments)\r\n          .reverse()\r\n          .map((item) => (\r\n            <p key={`${item.comment}-${item.displayName}`} className=\"mb-1\">\r\n              <Link to={`/p/${item.displayName}`}>\r\n                <span className=\"mr-1 font-bold\">{item.displayName}</span>\r\n              </Link>\r\n              <span>{item.comment}</span>\r\n            </p>\r\n          ))}\r\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\r\n          Posted {formatDistance(posted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      {loggedInUserId && (\r\n        <AddComment\r\n          docId={docId}\r\n          comments={comments}\r\n          setComments={setComments}\r\n          commentInput={commentInput}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nComments.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  posted: PropTypes.number.isRequired,\r\n  commentInput: PropTypes.object.isRequired,\r\n  expandAll: PropTypes.bool.isRequired\r\n};\r\n","import { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from './header';\r\nimport Image from './image';\r\nimport Actions from './actions';\r\nimport Footer from './footer';\r\nimport Comments from './comments';\r\n\r\nexport default function Post({ content, expandAllComments }) {\r\n  const commentInput = useRef(null);\r\n\r\n  const handleFocus = () => commentInput.current.focus();\r\n\r\n  return (\r\n    <div className=\"rounded col-span-4 border bg-white border-gray-primary mb-12\">\r\n      <Header username={content.username} />\r\n      <Image src={content.imageSrc} caption={content.caption} />\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer caption={content.caption} username={content.username} />\r\n      <Comments\r\n        docId={content.docId}\r\n        comments={content.comments.reverse()}\r\n        posted={content.dateCreated}\r\n        commentInput={commentInput}\r\n        expandAll={expandAllComments}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  content: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    imageSrc: PropTypes.string.isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    docId: PropTypes.string.isRequired,\r\n    userLikedPhoto: PropTypes.bool.isRequired,\r\n    likes: PropTypes.array.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    dateCreated: PropTypes.number.isRequired\r\n  }),\r\n  expandAllComments: PropTypes.bool\r\n};\r\n","import { useState, useEffect, useContext, useCallback } from 'react';\r\nimport UserContext from '../context/user';\r\nimport { getUserByUserId } from '../services/firebase';\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n  const getUserObjByUserId = useCallback(async () => {\r\n    const [response] = await getUserByUserId(user.uid);\r\n    setActiveUser(response);\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    //  Commented out to optimize using useCallback\r\n    // async function getUserObjByUserId() {\r\n    //   // Fn to call firebase service to get user data based on id\r\n    //   const [response] = await getUserByUserId(user.uid);\r\n    //   setActiveUser(response);\r\n    // }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser };\r\n}\r\n","/* eslint-disable no-nested-ternary */\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport usePhotos from '../hooks/use_photos';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\nimport Post from './post';\r\n\r\nexport default function Timeline() {\r\n  const { photos } = usePhotos();\r\n  return (\r\n    <div className=\"container col-span-2 ml-2\">\r\n      {!photos ? (\r\n        <Skeleton count={4} width={640} height={500} className=\"block mb-5\" />\r\n      ) : photos?.length > 0 ? (\r\n        photos.map((content) => (\r\n          <Post key={content.docId} content={content} expandAllComments={false} />\r\n        ))\r\n      ) : (\r\n        <p className=\"text-center text-2xl\">Follow some people to see photos!</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport UserContext from '../context/user';\r\nimport { getPhotosByIds, getUserByUserId } from '../services/firebase';\r\n\r\nexport default function usePhotos() {\r\n  const [photos, setPhotos] = useState(null);\r\n  const {\r\n    user: { uid: userId = '' }\r\n  } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getTimelinePhotos() {\r\n      const [{ following }] = await getUserByUserId(userId);\r\n      let followedUserPhotos = [];\r\n      if (following.length > 0) {\r\n        followedUserPhotos = await getPhotosByIds(userId, following);\r\n      }\r\n      followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n      setPhotos(followedUserPhotos);\r\n    }\r\n    getTimelinePhotos();\r\n  }, [userId]);\r\n\r\n  return { photos };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { memo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\n\r\nexport default function User({ username, fullName }) {\r\n  return !username || !fullName ? (\r\n    <Skeleton count={1} height={61} />\r\n  ) : (\r\n    <Link to={`/p/${username}`} className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-center\">\r\n      <div className=\"flex items-center justify-between col-span-1\">\r\n        <img\r\n          className=\"rounded-full w-14 h-14 flex mr-3\"\r\n          src={`/images/avatars/${username}.jpg`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div className=\"col-span-3\">\r\n        <p className=\"font-bold text-sm\">{username}</p>\r\n        <p className=\"text-sm\">{fullName}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\n// export default memo(User);\r\n\r\nUser.propTypes = {\r\n  username: PropTypes.string,\r\n  fullName: PropTypes.string\r\n};\r\n\r\n// User.whyDidYouRender = true;\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { updateProfileFollowers, updateUserFollowing } from '../../services/firebase';\r\n\r\nexport default function SuggestedProfile({\r\n  profileDocId,\r\n  profileUsername,\r\n  profileId,\r\n  userId,\r\n  userDocId\r\n}) {\r\n  const [followed, setFollowed] = useState(false);\r\n  const [removeSuggestion, setRemoveSuggestion] = useState(false);\r\n\r\n  async function handleFollowUser() {\r\n    setFollowed(true);\r\n\r\n    await updateProfileFollowers(profileDocId, userId, false);\r\n    await updateUserFollowing(userDocId, profileId, false);\r\n  }\r\n\r\n  function handleRemoveProfile() {\r\n    setRemoveSuggestion(true);\r\n  }\r\n\r\n  return !followed && !removeSuggestion ? (\r\n    <div className=\"group flex flex-col\">\r\n      <div\r\n        className=\"invisible group-hover:visible cursor-pointer w-0.5 h-0.5 scale-50 self-end pb-3 pr-4\"\r\n        onClick={handleRemoveProfile}\r\n        role=\"presentation\"\r\n        title=\"Remove from Suggestions\"\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          strokeWidth=\"1.5\"\r\n          stroke=\"currentColor\"\r\n          className=\"w-6 h-6\"\r\n        >\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n      </div>\r\n      <div className=\"flex flex-col md:flex-row items-start md:items-center align-items justify-between\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <img\r\n            className=\"rounded-full w-8 h-8 flex mr-3\"\r\n            src={`/images/avatars/${profileUsername}.jpg`}\r\n            alt=\"\"\r\n          />\r\n          <Link to={`/p/${profileUsername}`}>\r\n            <p className=\"font-bold text-sm mb-4 md:mb-0\">{profileUsername}</p>\r\n          </Link>\r\n        </div>\r\n        <button\r\n          className=\"text-xs font-bold text-blue-medium ml-12 md:ml-0 -mt-4 md:mt-0\"\r\n          type=\"button\"\r\n          onClick={handleFollowUser}\r\n        >\r\n          Follow\r\n        </button>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestedProfile.propTypes = {\r\n  profileDocId: PropTypes.string.isRequired,\r\n  profileUsername: PropTypes.string.isRequired,\r\n  profileId: PropTypes.string.isRequired,\r\n  userId: PropTypes.string.isRequired,\r\n  userDocId: PropTypes.string.isRequired\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\nimport { getSuggestedProfiles } from '../../services/firebase';\r\nimport SuggestedProfile from './suggested_profile';\r\n\r\nexport default function Suggestions({ userId, docId, following }) {\r\n  const [profiles, setProfiles] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function suggestedProfiles() {\r\n      const response = await getSuggestedProfiles(userId, following);\r\n      setProfiles(response);\r\n    }\r\n    if (userId) suggestedProfiles();\r\n  }, [userId]);\r\n\r\n  return !profiles ? (\r\n    <Skeleton count={10} height={150} className=\"mt-5\" />\r\n  ) : profiles.length > 0 ? (\r\n    <div className=\"rounded flex flex-col\">\r\n      <div className=\"text-sm flex items-center align-items justify-between mb-2\">\r\n        <p className=\"font-bold text-gray-base text-center\">Suggestions for you</p>\r\n      </div>\r\n      <div className=\"mt-2 grid gap-2\">\r\n        {profiles.map((profile) => (\r\n          <SuggestedProfile\r\n            key={profile.docId}\r\n            profileDocId={profile.docId}\r\n            profileUsername={profile.username}\r\n            profileId={profile.userId}\r\n            userId={userId}\r\n            userDocId={docId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestions.propTypes = {\r\n  userId: PropTypes.string,\r\n  docId: PropTypes.string,\r\n  following: PropTypes.array\r\n};\r\n","import useUser from '../../hooks/use_user';\r\nimport User from './user';\r\nimport Suggestions from './suggestions';\r\n\r\nexport default function Sidebar() {\r\n  const {\r\n    user: { docId, fullName, username, userId, following }\r\n  } = useUser();\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <User username={username} fullName={fullName} />\r\n      <Suggestions userId={userId} docId={docId} following={following} />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Sidebar.whyDidYouRender = true;\r\n","import { useEffect } from 'react';\r\nimport Header from '../components/header';\r\nimport Timeline from '../components/timeline';\r\nimport Sidebar from '../components/sidebar';\r\n\r\nexport default function Dashboard() {\r\n  useEffect(() => {\r\n    // eslint-disable-next-line no-undef\r\n    document.title = 'Instagram';\r\n  }, []);\r\n  return (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\r\n        <Timeline />\r\n        <Sidebar />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Header","username","className","to","src","alt","Image","caption","Actions","docId","totalLikes","likedPhoto","handleFocus","user","useContext","UserContext","userId","uid","useState","toggleLiked","setToggleLiked","likes","setLikes","FirebaseContext","firebase","FieldValue","handleToggleLiked","firestore","collection","doc","update","arrayRemove","arrayUnion","onClick","onKeyDown","event","key","xmlns","fill","viewBox","stroke","tabIndex","strokeLinecap","strokeLinejoin","strokeWidth","d","Footer","AddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","preventDefault","method","onSubmit","length","autoComplete","type","name","placeholder","value","onChange","target","ref","disabled","Comments","allComments","posted","expandAll","loggedInUserId","noOfComments","setNoOfComments","increaseCommentsByView","curComments","slice","reverse","map","item","formatDistance","Date","Post","content","expandAllComments","useRef","imageSrc","userLikedPhoto","current","focus","dateCreated","useUser","activeUser","setActiveUser","getUserObjByUserId","useCallback","getUserByUserId","response","useEffect","Timeline","photos","setPhotos","following","followedUserPhotos","getPhotosByIds","sort","a","b","getTimelinePhotos","usePhotos","count","width","height","User","fullName","SuggestedProfile","profileDocId","profileUsername","profileId","userDocId","followed","setFollowed","removeSuggestion","setRemoveSuggestion","updateProfileFollowers","updateUserFollowing","role","title","Suggestions","profiles","setProfiles","getSuggestedProfiles","suggestedProfiles","profile","Sidebar","Dashboard","document"],"sourceRoot":""}